<!DOCTYPE html>
<head>
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700" rel="stylesheet">
<link href='style.css' rel='stylesheet' type='text/css'>
<link href='axes.css' rel='stylesheet' type='text/css'>
<title>10Groups</title>
<link rel="icon" type="x-icon" href="icon.png">
<link rel="shortcut icon" type="x-icon" href="icon.png">
<meta charset="utf-8">

<!-- Global site tag (gtag.js) - Google Analytics; No Personal Information Collected -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-173028192-1"></script>
<script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'UA-173028192-1');
</script>
<script type="application/javascript" src="ideologies.js"></script>
</head>

<body>
<h1>10Groups</h1>
<hr>
	
<p style="text-align:center;">In this page, you will find 3 Different types of results: Compasses, Heat Map, and Axes. If you have any suggestions, please fill in <a href="https://forms.gle/gZgaSJ93rrMNa3k4A">this form</a>. Note that the placement of the axes do not necessarily correspond to the normal compass.</p>    

<hr>
	
<h2 style="text-align:center;">Results - Compass</h2>
<canvas id="canvas" width="2500" height="1500" style="border:1px solid #d3d3d3;"></canvas>
<img id="compass" src="compassimage.png" alt="Image" style="display: none;" />
<img id="heatmap1" src="/heatmap/heatmap1.png" alt="Image" style="display: none;" />
<img id="heatmap2" src="/heatmap/heatmap2.png" alt="Image" style="display: none;" />
<img id="heatmap3" src="/heatmap/heatmap3.png" alt="Image" style="display: none;" />
<br>
<p style="text-align:center;">You can send the results of this compass by copying and pasting the URL, Screenshotting, or using the image above. Please zoom in if the canvas is too small or blurry.</p>    
    
<hr>
<h2 style="text-align:center;">Results - Heat Map</h2>	
<canvas id="heatmap" width="1800" height="1500" style="border:1px solid #d3d3d3;"></canvas> 
	
<div><button class="small_button" onclick="heatmap_1()" id="back_button">None</button>
<button class="small_button" onclick="heatmap_2()" id="back_button">Icons</button>
<button class="small_button" onclick="heatmap_3()" id="back_button">Icons + Labels</button></div>
	
	
<br>
<p style="text-align:center;">You can send the results of this compass by copying and pasting the URL, Screenshotting, or using the image above. The Heat Map is determined by the overlapping between different axes.</p>    

	
<button class="button" onclick="location.href='index.html';" style="background-color: #2196f3;">Back</button> <br> 	    
<!--canvas-->
    <script>	    
	    
	const urlParams = new URLSearchParams(window.location.search);
        x_axis  = parseFloat(urlParams.get("x"))
        y_axis   = parseFloat(urlParams.get("y"))
        ax_axis   = parseFloat(urlParams.get("ax"))
        ay_axis   = parseFloat(urlParams.get("ay"))
        bx_axis   = parseFloat(urlParams.get("bx"))
        by_axis   = parseFloat(urlParams.get("by"))
	cx_axis   = parseFloat(urlParams.get("cx"))
        cy_axis   = parseFloat(urlParams.get("cy"))
	dx_axis   = parseFloat(urlParams.get("dx"))
        dy_axis   = parseFloat(urlParams.get("dy"))
	ex_axis   = parseFloat(urlParams.get("ex"))
        ey_axis   = parseFloat(urlParams.get("ey"))
	fx_axis   = parseFloat(urlParams.get("fx"))
        fy_axis   = parseFloat(urlParams.get("fy"))
	gx_axis   = parseFloat(urlParams.get("gx"))
        gy_axis   = parseFloat(urlParams.get("gy"))
	hx_axis   = parseFloat(urlParams.get("hx"))
        hy_axis   = parseFloat(urlParams.get("hy"))
	ix_axis   = parseFloat(urlParams.get("ix"))
        iy_axis   = parseFloat(urlParams.get("iy"))
	    
        window.onload = function() {	
	var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        var img = document.getElementById("compass");
        ctx.drawImage(img, 0, 0);
		
	//Circle (General)		
        var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(115 + (400 * (x_axis+10)/20), 450 - (400 * (y_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Economic Circle	
        var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(735 + (400 * (ax_axis+10)/20), 450 - (400 * (ay_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Government Circle	
	var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(1360 + (400 * (bx_axis+10)/20), 450 - (400 * (by_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Nationalist Circle	
	var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(1985 + (400 * (cx_axis+10)/20), 450 - (400 * (cy_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Societal Circle		
        var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(115 + (400 * (dx_axis+10)/20), 945 - (400 * (dy_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Technological Circle	
        var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(735 + (400 * (ex_axis+10)/20), 945 - (400 * (ey_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Law Circle	
	var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(1360 + (400 * (fx_axis+10)/20), 945 - (400 * (fy_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Cultural Circle	
	var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(1985 + (400 * (gx_axis+10)/20), 945 - (400 * (gy_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Procedural Circle		
        var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(115 + (400 * (hx_axis+10)/20), 1450 - (400 * (hy_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();
		
	//Political Circle	
        var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
	        ctx.beginPath();
	        ctx.arc(735 + (400 * (ix_axis+10)/20), 1450 - (400 * (iy_axis + 10)/20), 15, 0, 2 * Math.PI);
	        ctx.fillStyle = "red"
	        ctx.fill();
	        ctx.stroke();

	//Heat Map
 	var c = document.getElementById("heatmap");
	var ctx = c.getContext("2d");
  	var img = document.getElementById("heatmap1");
	ctx.drawImage(img,0,0);
	 
	function heatmap_circle() {
		
	//Heat Map - General
	ctx.beginPath();
	ctx.arc(900 + (55 * (x_axis)) , 750 - (55 * (y_axis)) , 150 , 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(240, 52, 52, 0.5)" ;
	ctx.fill();
		
	//Heat Map - Economic and Governmental
	ctx.beginPath();
	ctx.arc(900 + (55 * (ax_axis)) , 750 - (55 * (by_axis)) , 150 , 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(240, 52, 52, 0.3)" ;
	ctx.fill();
	
	//Heat Map - Economic
	ctx.beginPath();
	ctx.arc(900 + (55 * (ax_axis)) , 750 - (55 * (ay_axis)) , 150 , 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(240, 52, 52, 0.3)" ;
	ctx.fill();
	
	//Heat Map - Authoritarian and Technological
	ctx.beginPath();
	ctx.arc(900 + (27.5 * ((ey_axis) + (ex_axis))) , 750 - (27.5 * ((by_axis) + (bx_axis))) , 150 , 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(240, 52, 52, 0.3)" ;
	ctx.fill();
	
	//Heat Map - Nationalist and State
	ctx.beginPath();
	ctx.arc(900 + (55 * (dx_axis)) , 750 - (55 * (cy_axis)) , 150 , 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(240, 52, 52, 0.2)" ;
	ctx.fill();
		
	//Heat Map - Nationalist and Societal
	ctx.beginPath();
	ctx.arc(900 + (20 * ((cy_axis) + (cx_axis))) , 750 - (55 * (cx_axis)) , 150 , 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(240, 52, 52, 0.2)" ;
	ctx.fill();
	
	//Heat Map - Law and Societal
	ctx.beginPath();
	ctx.arc(900 + (55 * (dy_axis)) , 750 - (27.5 * ((ey_axis) + (ex_axis))) , 150 , 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(240, 52, 52, 0.2)" ;
	ctx.fill();
	
	//Heat Map - Cultural
	ctx.beginPath();
	ctx.arc(900 + (55 * (gx_axis)) , 750 - (55 * (gy_axis)) , 150 , 0, 2 * Math.PI);
	ctx.fillStyle = "rgba(240, 52, 52, 0.2)" ;
	ctx.fill();
	}
	    
	//Heatmap Images
	function heatmap_1() {
  		var canvas = document.getElementById("heatmap");
		var ctx = c.getContext("2d");
		var img = document.getElementById("heatmap1");
		ctx.drawImage(img,0,0);
		
		heatmap_circle();
		}
	    
	 function heatmap_2() {
  		var canvas = document.getElementById("heatmap");
		var ctx = c.getContext("2d");
  		var img = document.getElementById("heatmap2");
		ctx.drawImage(img,0,0);
		 
		heatmap_circle();
		}
	    
	 function heatmap_3() {
  		var canvas = document.getElementById("heatmap");
		var ctx = c.getContext("2d");
  		var img = document.getElementById("heatmap3");
		ctx.drawImage(img,0,0);
		 
		heatmap_circle();
		} 
	
	
//Ideology Matching
	
    function getQueryVariable(variable) {
           var query = window.location.search.substring(1)
           var vars = query.split("&")
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=")
                   if(pair[0] == variable) {return pair[1]}
           }
           return(NaN);
    }
	
	xvalue = getQueryVariable("econ")
        yvalue = getQueryVariable("govt")
        axvalue = getQueryVariable("econsys")
        ayvalue = getQueryVariable("econreg")
        bxvalue = getQueryVariable("govtsize")
        byvalue = getQueryVariable("govttype")
        cxvalue = getQueryVariable("diplapp")
        cyvalue = getQueryVariable("diplrel")
        dxvalue = getQueryVariable("sctychg")
        dyvalue = getQueryVariable("sctytrad")
        exvalue = getQueryVariable("techacc")
        eyvalue = getQueryVariable("techbio")
        fxvalue = getQueryVariable("lawtype")
        fyvalue = getQueryVariable("lawrehab")
        gxvalue = getQueryVariable("cltrhrchy")
        gyvalue = getQueryVariable("cltrassi")
        hxvalue = getQueryVariable("proccomp")
        hyvalue = getQueryVariable("proctrans")
        ixvalue = getQueryVariable("polapol")
        iyvalue = getQueryVariable("polext")
	
    ideology = ""
    ideodist = Infinity
    for (var i = 0; i < ideologies.length; i++) {
    dist = 0
	
	dist += Math.pow( Math.abs(ideologies[i].stats.econ - xvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.govt - yvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.econsys - axvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.econreg - ayvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.govtsize - bxvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.govttype - byvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.diplapp - cxvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.diplrel - cyvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.sctychg - dxvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.sctytrad - dyvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.techacc - exvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.techbio - eyvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.lawtype - fxvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.lawrehab - fyvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.cltrhrchy - gxvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.cltrassi - gyvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.proccomp - hxvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.proctrans - hyvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.polapol - ixvalue), 2)
        dist += Math.pow( Math.abs(ideologies[i].stats.polext - iyvalue), 2)
	
        if (dist < ideodist) {
            ideology = ideologies[i].name
            ideodist = dist
        }
    }
    document.getElementById("ideology-label").innerHTML = ideology
	

	
    </script>
